import{c as $,a as he,b as fe,d as j,t as P,u as ne,i as x,e as L,f as J,S as Z,F as ae,g as de,h as ie,s as Q,j as X,m as pe,k as ge,l as ve}from"./index-Dq80elw9.js";function me(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var H={exports:{}};/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 2014–2018, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/var ye=H.exports,se;function xe(){return se||(se=1,function(c,I){(function(y,k){c.exports=k()})(ye,function(){var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},k=function(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")},C=function(){function f(s,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}return function(s,e,r){return e&&f(s.prototype,e),r&&f(s,r),s}}(),K=Object.assign||function(f){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(f[r]=e[r])}return f},F=function(){function f(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;k(this,f),this.ctx=s,this.iframes=e,this.exclude=r,this.iframesTimeout=t}return C(f,[{key:"getContexts",value:function(){var e=void 0,r=[];return typeof this.ctx>"u"||!this.ctx?e=[]:NodeList.prototype.isPrototypeOf(this.ctx)?e=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?e=this.ctx:typeof this.ctx=="string"?e=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):e=[this.ctx],e.forEach(function(t){var n=r.filter(function(a){return a.contains(t)}).length>0;r.indexOf(t)===-1&&!n&&r.push(t)}),r}},{key:"getIframeContents",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},n=void 0;try{var a=e.contentWindow;if(n=a.document,!a||!n)throw new Error("iframe inaccessible")}catch{t()}n&&r(n)}},{key:"isIframeBlank",value:function(e){var r="about:blank",t=e.getAttribute("src").trim(),n=e.contentWindow.location.href;return n===r&&t!==r&&t}},{key:"observeIframeLoad",value:function(e,r,t){var n=this,a=!1,o=null,i=function l(){if(!a){a=!0,clearTimeout(o);try{n.isIframeBlank(e)||(e.removeEventListener("load",l),n.getIframeContents(e,r,t))}catch{t()}}};e.addEventListener("load",i),o=setTimeout(i,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,r,t){try{e.contentWindow.document.readyState==="complete"?this.isIframeBlank(e)?this.observeIframeLoad(e,r,t):this.getIframeContents(e,r,t):this.observeIframeLoad(e,r,t)}catch{t()}}},{key:"waitForIframes",value:function(e,r){var t=this,n=0;this.forEachIframe(e,function(){return!0},function(a){n++,t.waitForIframes(a.querySelector("html"),function(){--n||r()})},function(a){a||r()})}},{key:"forEachIframe",value:function(e,r,t){var n=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},o=e.querySelectorAll("iframe"),i=o.length,l=0;o=Array.prototype.slice.call(o);var u=function(){--i<=0&&a(l)};i||u(),o.forEach(function(h){f.matches(h,n.exclude)?u():n.onIframeReady(h,function(d){r(h)&&(l++,t(d)),u()},u)})}},{key:"createIterator",value:function(e,r,t){return document.createNodeIterator(e,r,t,!1)}},{key:"createInstanceOnIframe",value:function(e){return new f(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(e,r,t){var n=e.compareDocumentPosition(t),a=Node.DOCUMENT_POSITION_PRECEDING;if(n&a)if(r!==null){var o=r.compareDocumentPosition(t),i=Node.DOCUMENT_POSITION_FOLLOWING;if(o&i)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(e){var r=e.previousNode(),t=void 0;return r===null?t=e.nextNode():t=e.nextNode()&&e.nextNode(),{prevNode:r,node:t}}},{key:"checkIframeFilter",value:function(e,r,t,n){var a=!1,o=!1;return n.forEach(function(i,l){i.val===t&&(a=l,o=i.handled)}),this.compareNodeIframe(e,r,t)?(a===!1&&!o?n.push({val:t,handled:!0}):a!==!1&&!o&&(n[a].handled=!0),!0):(a===!1&&n.push({val:t,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(e,r,t,n){var a=this;e.forEach(function(o){o.handled||a.getIframeContents(o.val,function(i){a.createInstanceOnIframe(i).forEachNode(r,t,n)})})}},{key:"iterateThroughNodes",value:function(e,r,t,n,a){for(var o=this,i=this.createIterator(r,e,n),l=[],u=[],h=void 0,d=void 0,v=function(){var E=o.getIteratorNode(i);return d=E.prevNode,h=E.node,h};v();)this.iframes&&this.forEachIframe(r,function(m){return o.checkIframeFilter(h,d,m,l)},function(m){o.createInstanceOnIframe(m).forEachNode(e,function(E){return u.push(E)},n)}),u.push(h);u.forEach(function(m){t(m)}),this.iframes&&this.handleOpenIframes(l,e,t,n),a()}},{key:"forEachNode",value:function(e,r,t){var n=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},o=this.getContexts(),i=o.length;i||a(),o.forEach(function(l){var u=function(){n.iterateThroughNodes(e,l,r,t,function(){--i<=0&&a()})};n.iframes?n.waitForIframes(l,u):u()})}}],[{key:"matches",value:function(e,r){var t=typeof r=="string"?[r]:r,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(n){var a=!1;return t.every(function(o){return n.call(e,o)?(a=!0,!1):!0}),a}else return!1}}]),f}(),V=function(){function f(s){k(this,f),this.ctx=s,this.ie=!1;var e=window.navigator.userAgent;(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1)&&(this.ie=!0)}return C(f,[{key:"log",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",t=this.opt.log;this.opt.debug&&(typeof t>"u"?"undefined":y(t))==="object"&&typeof t[r]=="function"&&t[r]("mark.js: "+e)}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(e){return this.opt.wildcards!=="disabled"&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),this.opt.wildcards!=="disabled"&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e),e}},{key:"createSynonymsRegExp",value:function(e){var r=this.opt.synonyms,t=this.opt.caseSensitive?"":"i",n=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var a in r)if(r.hasOwnProperty(a)){var o=r[a],i=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(a):this.escapeStr(a),l=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(o):this.escapeStr(o);i!==""&&l!==""&&(e=e.replace(new RegExp("("+this.escapeStr(i)+"|"+this.escapeStr(l)+")","gm"+t),n+("("+this.processSynomyms(i)+"|")+(this.processSynomyms(l)+")")+n))}return e}},{key:"processSynomyms",value:function(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}},{key:"setupWildcardsRegExp",value:function(e){return e=e.replace(/(?:\\)*\?/g,function(r){return r.charAt(0)==="\\"?"?":""}),e.replace(/(?:\\)*\*/g,function(r){return r.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(e){var r=this.opt.wildcards==="withSpaces";return e.replace(/\u0001/g,r?"[\\S\\s]?":"\\S?").replace(/\u0002/g,r?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/[^(|)\\]/g,function(r,t,n){var a=n.charAt(t+1);return/[(|)\\]/.test(a)||a===""?r:r+"\0"})}},{key:"createJoinersRegExp",value:function(e){var r=[],t=this.opt.ignorePunctuation;return Array.isArray(t)&&t.length&&r.push(this.escapeStr(t.join(""))),this.opt.ignoreJoiners&&r.push("\\u00ad\\u200b\\u200c\\u200d"),r.length?e.split(/\u0000+/).join("["+r.join("")+"]*"):e}},{key:"createDiacriticsRegExp",value:function(e){var r=this.opt.caseSensitive?"":"i",t=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],n=[];return e.split("").forEach(function(a){t.every(function(o){if(o.indexOf(a)!==-1){if(n.indexOf(o)>-1)return!1;e=e.replace(new RegExp("["+o+"]","gm"+r),"["+o+"]"),n.push(o)}return!0})}),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(e){var r=this,t="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",n=this.opt.accuracy,a=typeof n=="string"?n:n.value,o=typeof n=="string"?[]:n.limiters,i="";switch(o.forEach(function(l){i+="|"+r.escapeStr(l)}),a){case"partially":default:return"()("+e+")";case"complementary":return i="\\s"+(i||this.escapeStr(t)),"()([^"+i+"]*"+e+"[^"+i+"]*)";case"exactly":return"(^|\\s"+i+")("+e+")(?=$|\\s"+i+")"}}},{key:"getSeparatedKeywords",value:function(e){var r=this,t=[];return e.forEach(function(n){r.opt.separateWordSearch?n.split(" ").forEach(function(a){a.trim()&&t.indexOf(a)===-1&&t.push(a)}):n.trim()&&t.indexOf(n)===-1&&t.push(n)}),{keywords:t.sort(function(n,a){return a.length-n.length}),length:t.length}}},{key:"isNumeric",value:function(e){return Number(parseFloat(e))==e}},{key:"checkRanges",value:function(e){var r=this;if(!Array.isArray(e)||Object.prototype.toString.call(e[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];var t=[],n=0;return e.sort(function(a,o){return a.start-o.start}).forEach(function(a){var o=r.callNoMatchOnInvalidRanges(a,n),i=o.start,l=o.end,u=o.valid;u&&(a.start=i,a.length=l-i,t.push(a),n=l)}),t}},{key:"callNoMatchOnInvalidRanges",value:function(e,r){var t=void 0,n=void 0,a=!1;return e&&typeof e.start<"u"?(t=parseInt(e.start,10),n=t+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&n-r>0&&n-t>0?a=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(e))),this.opt.noMatch(e))):(this.log("Ignoring invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:t,end:n,valid:a}}},{key:"checkWhitespaceRanges",value:function(e,r,t){var n=void 0,a=!0,o=t.length,i=r-o,l=parseInt(e.start,10)-i;return l=l>o?o:l,n=l+parseInt(e.length,10),n>o&&(n=o,this.log("End range automatically set to the max value of "+o)),l<0||n-l<0||l>o||n>o?(a=!1,this.log("Invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)):t.substring(l,n).replace(/\s+/g,"")===""&&(a=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:l,end:n,valid:a}}},{key:"getTextNodes",value:function(e){var r=this,t="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(a){n.push({start:t.length,end:(t+=a.textContent).length,node:a})},function(a){return r.matchesExclude(a.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){e({value:t,nodes:n})})}},{key:"matchesExclude",value:function(e){return F.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(e,r,t){var n=this.opt.element?this.opt.element:"mark",a=e.splitText(r),o=a.splitText(t-r),i=document.createElement(n);return i.setAttribute("data-markjs","true"),this.opt.className&&i.setAttribute("class",this.opt.className),i.textContent=a.textContent,a.parentNode.replaceChild(i,a),o}},{key:"wrapRangeInMappedTextNode",value:function(e,r,t,n,a){var o=this;e.nodes.every(function(i,l){var u=e.nodes[l+1];if(typeof u>"u"||u.start>r){if(!n(i.node))return!1;var h=r-i.start,d=(t>i.end?i.end:t)-i.start,v=e.value.substr(0,i.start),m=e.value.substr(d+i.start);if(i.node=o.wrapRangeInTextNode(i.node,h,d),e.value=v+m,e.nodes.forEach(function(E,O){O>=l&&(e.nodes[O].start>0&&O!==l&&(e.nodes[O].start-=d),e.nodes[O].end-=d)}),t-=d,a(i.node.previousSibling,i.start),t>i.end)r=i.end;else return!1}return!0})}},{key:"wrapMatches",value:function(e,r,t,n,a){var o=this,i=r===0?0:r+1;this.getTextNodes(function(l){l.nodes.forEach(function(u){u=u.node;for(var h=void 0;(h=e.exec(u.textContent))!==null&&h[i]!=="";)if(t(h[i],u)){var d=h.index;if(i!==0)for(var v=1;v<i;v++)d+=h[v].length;u=o.wrapRangeInTextNode(u,d,d+h[i].length),n(u.previousSibling),e.lastIndex=0}}),a()})}},{key:"wrapMatchesAcrossElements",value:function(e,r,t,n,a){var o=this,i=r===0?0:r+1;this.getTextNodes(function(l){for(var u=void 0;(u=e.exec(l.value))!==null&&u[i]!=="";){var h=u.index;if(i!==0)for(var d=1;d<i;d++)h+=u[d].length;var v=h+u[i].length;o.wrapRangeInMappedTextNode(l,h,v,function(m){return t(u[i],m)},function(m,E){e.lastIndex=E,n(m)})}a()})}},{key:"wrapRangeFromIndex",value:function(e,r,t,n){var a=this;this.getTextNodes(function(o){var i=o.value.length;e.forEach(function(l,u){var h=a.checkWhitespaceRanges(l,i,o.value),d=h.start,v=h.end,m=h.valid;m&&a.wrapRangeInMappedTextNode(o,d,v,function(E){return r(E,l,o.value.substring(d,v),u)},function(E){t(E,l)})}),n()})}},{key:"unwrapMatches",value:function(e){for(var r=e.parentNode,t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.removeChild(e.firstChild));r.replaceChild(t,e),this.ie?this.normalizeTextNode(r):r.normalize()}},{key:"normalizeTextNode",value:function(e){if(e){if(e.nodeType===3)for(;e.nextSibling&&e.nextSibling.nodeType===3;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}},{key:"markRegExp",value:function(e,r){var t=this;this.opt=r,this.log('Searching with expression "'+e+'"');var n=0,a="wrapMatches",o=function(l){n++,t.opt.each(l)};this.opt.acrossElements&&(a="wrapMatchesAcrossElements"),this[a](e,this.opt.ignoreGroups,function(i,l){return t.opt.filter(l,i,n)},o,function(){n===0&&t.opt.noMatch(e),t.opt.done(n)})}},{key:"mark",value:function(e,r){var t=this;this.opt=r;var n=0,a="wrapMatches",o=this.getSeparatedKeywords(typeof e=="string"?[e]:e),i=o.keywords,l=o.length,u=this.opt.caseSensitive?"":"i",h=function d(v){var m=new RegExp(t.createRegExp(v),"gm"+u),E=0;t.log('Searching with expression "'+m+'"'),t[a](m,1,function(O,z){return t.opt.filter(z,v,n,E)},function(O){E++,n++,t.opt.each(O)},function(){E===0&&t.opt.noMatch(v),i[l-1]===v?t.opt.done(n):d(i[i.indexOf(v)+1])})};this.opt.acrossElements&&(a="wrapMatchesAcrossElements"),l===0?this.opt.done(n):h(i[0])}},{key:"markRanges",value:function(e,r){var t=this;this.opt=r;var n=0,a=this.checkRanges(e);a&&a.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(a)),this.wrapRangeFromIndex(a,function(o,i,l,u){return t.opt.filter(o,i,l,u)},function(o,i){n++,t.opt.each(o,i)},function(){t.opt.done(n)})):this.opt.done(n)}},{key:"unmark",value:function(e){var r=this;this.opt=e;var t=this.opt.element?this.opt.element:"*";t+="[data-markjs]",this.opt.className&&(t+="."+this.opt.className),this.log('Removal selector "'+t+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(n){r.unwrapMatches(n)},function(n){var a=F.matches(n,t),o=r.matchesExclude(n);return!a||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(e){this._opt=K({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},e)},get:function(){return this._opt}},{key:"iterator",get:function(){return new F(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),f}();function T(f){var s=this,e=new V(f);return this.mark=function(r,t){return e.mark(r,t),s},this.markRegExp=function(r,t){return e.markRegExp(r,t),s},this.markRanges=function(r,t){return e.markRanges(r,t),s},this.unmark=function(r){return e.unmark(r),s},this}return T})}(H)),H.exports}var ke=xe();const Ee=me(ke);var be=P('<div class="w-full flex justify-between align-middle"><p class="text-xs font-mono content-center"> | </p><form><select class="bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2">'),Se=P('<div class="flex justify-between"><h1 class="text-2xl pb-2"></h1><div class="flex items-center"><input class="min-w-80 bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"type=search placeholder=Search><div> / </div><button data-search=next>&darr;</button><button data-search=prev>&uarr;</button><button data-search=clear>✖'),Ie=P('<article class="h-full overflow-y-auto p-4 relative divide-y-2 bg-white border-2 border-slate-300 rounded-lg">'),we=P('<div class="bg-gray-100 text-gray-700 p-8 h-[90vh]"><div class="flex items-center space-x-2 h-full"><div class="h-full w-1/3"><video width=100% height=auto controls plays-inline></video><nav class="h-full overflow-y-auto border-2 border-slate-300 rounded-lg transition-[height]"><ul class="w-full flex flex-col divide-y-2"></ul></nav></div><div class="h-full w-2/3">'),Ne=P("<option>x"),Re=P('<li><a class="p-2 w-full block">'),_e=P('<section class="flex h-auto static p-2"><div class="h-full sticky top-0 pr-2 w-1/6"role=complementary><p></p><p class="text-xs text-slate-500 font-mono"> - </p></div><p class="h-full w-5/6">'),Te=P("<span> ");function U(c){const I=Math.floor(c/3600),y=Math.floor(c%3600/60),k=Math.floor(c%60),C=Math.floor(c%1*100);return`${[I.toString().padStart(2,"0"),y.toString().padStart(2,"0"),k.toString().padStart(2,"0")].join(":")}.${C.toString().padStart(2,"0")}`}const Me=c=>({title:c.Title,tags:(c.Tags||[]).map(I=>I.value),collection:c.Collection,recordingDate:c["Recording Date"],source:(c.Source||{}).value,slug:c.Slug,id:c.ID,videoUrl:c["Video on AWS"],clipName:c["File Name"],sttEngine:(c["Transcription Engine"]||{}).value,audioUrl:c.Audio,original:c["Video Source URL"],swagit_id:c["SwagIt ID"],agenda:c.Agenda,proposal:c.Proposal,presentation:c.Presentation}),$e=(c,I,y)=>y.reduce((k,C)=>({...k,[C[c]]:I(C)}),{}),Ce=(c,I)=>Object.values(I).sort(y=>y[c]),Oe=Ce.bind(void 0,"recordingDate"),Ae=$e.bind(void 0,"ID",Me),Le=(c,I)=>({...c,...Ae(I)}),Pe=async c=>{let y={next:"https://api.baserow.io/api/database/rows/table/546812/?user_field_names=true&size=50",indexed:{}};for(;y.next;)y=await fetch(y.next.replace("http://","https://"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token 5NMJRmuC1OaOsoRmQJFY3K6LM407y0mq"},mode:"cors"}).then(k=>k.json()).then(k=>({next:k.next,indexed:Le(y.indexed,k.results)})),c(y.indexed);return y};async function Fe(c,{value:I,refreshing:y}){if(c.id)return await fetch("https://councilwatch.s3.us-east-2.amazonaws.com/transcripts/"+c.id+".json",{mode:"cors"}).then(k=>k.json())}function Je(){const[c,I]=$({}),[y,k]=$(0),[C,K]=$(0),[F,V]=$(1),[T,f]=$(0),[s,e]=$(0),[r,t]=$("");Pe(I);let n,a;const o=he(()=>Oe(c())),[i,l]=$({}),[u,h]=$(0),[d,v]=$(0),[m,{mutate:E,refetch:O}]=fe(i,Fe),z=()=>m()&&m().transcript.paragraphs.map((_,W)=>({..._,paragraphIndex:W,words:m().transcript.words.filter(D=>D.start>=_.start&&D.end<=_.end)})),[oe,le]=$({}),ce=(_,W)=>{W.preventDefault(),l(_),h(0),v(0),V(1),f(0),e(0)};return j(()=>{n.currentTime=oe().start||0,n.play()}),j(()=>{C()>0&&k(n.videoHeight)}),j(()=>{n.playbackRate=F()}),j(()=>{console.log(r()),a?.unmark({done:function(){a.mark(r(),{separateWordSearch:!0,diacritics:!0,exclude:['[role="complementary"]']});const _=document.querySelectorAll("mark");e(_.length),_[T()]?.scrollIntoView({behavior:"smooth"}),_.length===0&&document.querySelector("article").scrollTo(0,0)}})}),j(()=>{document.querySelectorAll("mark")[T()]?.scrollIntoView({behavior:"smooth"})}),(()=>{var _=we(),W=_.firstChild,D=W.firstChild,q=D.firstChild,G=q.nextSibling,ue=G.firstChild,ee=D.nextSibling;return ne(g=>{n=g,n.addEventListener("loadeddata",p=>{K(p.timeStamp),v(n.duration)}),n.addEventListener("timeupdate",p=>{h(n.currentTime)})},q),x(D,L(Z,{get when(){return i().id},get children(){var g=be(),p=g.firstChild,N=p.firstChild,b=p.nextSibling,R=b.firstChild;return x(p,()=>U(u()),N),x(p,()=>U(d()),null),R.addEventListener("change",w=>{V(w.target.value*1)}),x(R,()=>[.5,1,1.5,2,3,4].map(w=>(()=>{var M=Ne(),A=M.firstChild;return M.value=w,x(M,w,A),J(()=>M.selected=F()===w*1),M})())),g}}),G),x(ue,L(X,{get children(){return L(ae,{get each(){return o()},children:g=>(()=>{var p=Re(),N=p.firstChild;return de(N,"click",ce.bind(null,g),!0),x(N,()=>g.title),J(b=>{var R={"bg-sky-200 sticky top-0":i().id===g.id,"w-full hover:bg-sky-100 focus:bg-sky-100":!0},w=g.videoUrl;return b.e=ie(p,R,b.e),w!==b.t&&Q(N,"href",b.t=w),b},{e:void 0,t:void 0}),p})()})}})),x(ee,L(X,{get children(){return L(Z,{get when(){return i().title},get children(){var g=Se(),p=g.firstChild,N=p.nextSibling,b=N.firstChild,R=b.nextSibling,w=R.firstChild,M=R.nextSibling,A=M.nextSibling,B=A.nextSibling;return x(p,()=>i().title),b.$$input=S=>{t(S.target.value)},x(R,(()=>{var S=pe(()=>s()>0);return()=>S()&&T()+1||0})(),w),x(R,s,null),M.$$click=()=>{s()!==0&&T()!==s()-1&&f(T()+1)},A.$$click=()=>{s()!==0&&T()!==0&&f(T()-1)},B.$$click=()=>{t(""),f(0)},J(S=>{var Y={"font-mono text-xs inline-block text-nowrap px-2":!0,"text-gray-300":s()===0},te=T()===s()-1||s()===0,re=T()===0||s()===0;return S.e=ie(R,Y,S.e),te!==S.t&&M.classList.toggle("text-gray-300",S.t=te),re!==S.a&&A.classList.toggle("text-gray-300",S.a=re),S},{e:void 0,t:void 0,a:void 0}),J(()=>b.value=r()),g}})}}),null),x(ee,L(X,{get children(){return L(Z,{get when(){return z()},get children(){var g=Ie();return ne(p=>{a=new Ee(p)},g),x(g,L(ae,{get each(){return z()},children:p=>(()=>{var N=_e(),b=N.firstChild,R=b.firstChild,w=R.nextSibling,M=w.firstChild,A=b.nextSibling;return x(R,()=>p.speaker),x(w,()=>U(p.start),M),x(w,()=>U(p.end),null),x(A,()=>p.words.map(B=>(()=>{var S=Te(),Y=S.firstChild;return S.$$dblclick=()=>{le(B)},x(S,()=>B.text,Y),S})())),J(()=>Q(A,"data-paragraph-index",p.paragraphIndex)),N})()})),g}})}}),null),J(g=>{var p=!i().id,N=i().videoUrl,b=y()&&{height:`calc(100vh - ${y()+10}px)`}||{};return p!==g.e&&q.classList.toggle("hidden",g.e=p),N!==g.t&&Q(q,"src",g.t=N),g.a=ge(G,b,g.a),g},{e:void 0,t:void 0,a:void 0}),_})()}ve(["input","click","dblclick"]);export{Je as default};
